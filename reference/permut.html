<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Reorder the elements of the data1 vector by flipping 2 randomly selected consecutive positions either:
- n times (when n is precised) or.
- until the correlation between data1 and data2 decreases down to the cor.limit (0.2 by default). See cor.limit below to deal with negative correlations.
Example of consecutive position flipping: ABCD -&amp;gt; BACD -&amp;gt; BADC, etc.
Designed for discrete values, but works also for continuous values."><title>permut — permut • saferTool2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="permut — permut"><meta property="og:description" content="Reorder the elements of the data1 vector by flipping 2 randomly selected consecutive positions either:
- n times (when n is precised) or.
- until the correlation between data1 and data2 decreases down to the cor.limit (0.2 by default). See cor.limit below to deal with negative correlations.
Example of consecutive position flipping: ABCD -&amp;gt; BACD -&amp;gt; BADC, etc.
Designed for discrete values, but works also for continuous values."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">saferTool2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/saferTool2.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/codon_finder.html">codon_finder</a>
    <a class="dropdown-item" href="../articles/codon2aa.html">codon2aa</a>
    <a class="dropdown-item" href="../articles/permut.html">permut</a>
    <a class="dropdown-item" href="../articles/slide.html">slide</a>
    <a class="dropdown-item" href="../articles/trim.html">trim</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>permut</h1>
      
      <div class="d-none name"><code>permut.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Reorder the elements of the data1 vector by flipping 2 randomly selected consecutive positions either:</p>
<p>- n times (when n is precised) or.</p>
<p>- until the correlation between data1 and data2 decreases down to the cor.limit (0.2 by default). See cor.limit below to deal with negative correlations.</p>
<p>Example of consecutive position flipping: ABCD -&gt; BACD -&gt; BADC, etc.</p>
<p>Designed for discrete values, but works also for continuous values.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">permut</span><span class="op">(</span></span>
<span>  <span class="va">data1</span>,</span>
<span>  data2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  print.count <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  text.print <span class="op">=</span> <span class="st">""</span>,</span>
<span>  cor.method <span class="op">=</span> <span class="st">"spearman"</span>,</span>
<span>  cor.limit <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  warn.print <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  lib.path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  safer_check <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data1</dt>
<dd><p>A vector of at least 2 elements. Must be numeric if data2 is specified.</p></dd>


<dt>data2</dt>
<dd><p>A numeric vector of same length as data1.</p></dd>


<dt>n</dt>
<dd><p>Single numeric value of times "flipping 2 randomly selected consecutive positions". Ignored if data2 is specified.</p></dd>


<dt>seed</dt>
<dd><p>Single integer number used by set.seed(). Write NULL if random result is required, an integer otherwise. BEWARE: if not NULL, permut() will systematically return the same result when the other parameters keep the same settings.</p></dd>


<dt>print.count</dt>
<dd><p>Single integer value. Print a working progress message every print.count during loops. BEWARE: can increase substentially the time to complete the process using a small value, like 10 for instance. Use Inf is no loop message desired.</p></dd>


<dt>text.print</dt>
<dd><p>Single character string indicating the optional message to add to the working progress message every print.count loop.</p></dd>


<dt>cor.method</dt>
<dd><p>Correlation method. Either "pearson", "kendall" or "spearman". Ignored if data2 is not specified.</p></dd>


<dt>cor.limit</dt>
<dd><p>Single positive numeric proportion fixing the correlation limit. Ignored if data2 is not specified. Compute the correlation between data1 and data2, permute the data1 values, and stop the permutation process when the correlation between data1 and data2 decreases down below the cor limit value (0.2 by default). If cor(data1, data2) is negative, then -cor.limit is used and the process stops until the correlation between data1 and data2 increases up over cor.limit (-0.2 by default). BEWARE: write a positive cor.limit even if cor(data1, data2) is known to be negative. The function will automatically uses -cor.limit. If the initial correlation is already below cor.limit (positive correlation) or over -cor.limit (negative correlation), then the data1 value positions are completely randomized (correlation between data1 and data2 is expected to be 0).</p></dd>


<dt>warn.print</dt>
<dd><p>Single logical value. Print warnings at the end of the execution? No print if no warning messages</p></dd>


<dt>lib.path</dt>
<dd><p>Character vector specifying the absolute pathways of the directories containing the required packages if not in the default directories. Ignored if NULL.</p></dd>


<dt>safer_check</dt>
<dd><p>Single logical value. Perform some "safer" checks (see https://github.com/safer-r)? If TRUE, checkings are performed before main code running: 1) R classical operators (like "&lt;-") not overwritten by another package because of the R scope and 2) required functions and related packages effectively present in local R lybraries. Set to FALSE if this fonction is used inside another "safer" function to avoid pointless multiple checkings.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list containing:</p>


<p>- $data: the modified vector.</p>


<p>- $warn: potential warning messages (in case of negative correlation when data2 is specified). NULL if non warning message.</p>


<p>- $cor: a spearman correlation between the initial positions (1:length(data1) and the final positions if data2 is not specified and the final correlation between data1 and data2 otherwise, according to cor.method.</p>


<p>- $count: the number of loops used.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>WARNINGS</p>
<p>see # https://www.r-bloggers.com/strategies-to-speedup-r-code/ for code speedup</p>
<p>The random switch of non consecutive positions (ABCD -&gt; DBCA for instance) does not work very well as the correlation is quickly obtained but the initial vector structure is mainly kept (no much order).</p>
<p>Ths code would be: pos &lt;- ini.pos[1:2] ; pos &lt;- sample.int(n = n , size = 2, replace = FALSE) ; tempo.pos[pos] &lt;- tempo.pos[rev(pos)]</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gael Millot &lt;gael.millot@pasteur.fr&gt;</p>
<p>Yushi Han &lt;yushi.han2000@gmail.com&gt;</p>
<p>Haiding Wang &lt;wanghaiding442@gmail.com&gt;</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">permut</span><span class="op">(</span>data1 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, data2 <span class="op">=</span> <span class="fl">10</span><span class="op">:</span><span class="fl">1</span>, seed <span class="op">=</span> <span class="fl">1</span>, print.count <span class="op">=</span> <span class="fl">1e4</span>, text.print <span class="op">=</span> <span class="st">""</span>, cor.method <span class="op">=</span> <span class="st">"spearman"</span>, cor.limit <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CORRELATION DECREASE AFTER A SINGLE PERMUTATION: 0.01212</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FIRST WHILE LOOP STEP -&gt; GOING OUT FROM EQUALITY | LOOP COUNT: 1 | CORRELATION LIMIT: 0.7 | ABS TEMPO CORRELATION: 0.9879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FIRST WHILE LOOP STEP END | LOOP COUNT: 1 | CORRELATION LIMIT: 0.7 | ABS TEMPO CORRELATION: 0.9879 | TOTAL SPENT TIME: 0.0065</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WHILE/FOR LOOPS INITIATION | LOOP COUNT: 1 | CORRELATION LIMIT: 0.7 | ABS TEMPO CORRELATION: 0.9879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INITIAL SETTINGS BEFORE ROUND: 1 | LOOP COUNT: 1 | GO BACK: FALSE | LOOP NUMBER ESTIMATION: 29,687.5 | CORRELATION LIMIT: 0.7 | ABS TEMPO CORRELATION: 0.9879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FOR LOOP | ROUND 1 | LOOP: 10,000 / 29,687.5 | TIME SPENT: 0.013 | EXPECTED END: 2024-09-03 11:52:18.652005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FOR LOOP | ROUND 1 | LOOP: 20,000 / 29,687.5 | TIME SPENT: 0.029 | EXPECTED END: 2024-09-03 11:52:18.656164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> INITIAL SETTINGS BEFORE ROUND: 2 | LOOP COUNT: 1 | GO BACK: TRUE | LOOP NUMBER ESTIMATION: 14,843.75 | CORRELATION LIMIT: 0.7 | ABS TEMPO CORRELATION: 0.9879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FOR LOOP | ROUND 2 | LOOP: 10,000 / 14,843.75 | TIME SPENT: 0.013 | EXPECTED END: 2024-09-03 11:52:18.681403</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FINAL WHILE LOOP | LOOP COUNT: 1 | CORRELATION LIMIT: 0.7 | ABS TEMPO CORRELATION: 0.9879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> WHILE/FOR LOOPS END | LOOP COUNT: 16 | NB OF ROUNDS: 3 | CORRELATION LIMIT: 0.7 | ABS TEMPO CORRELATION: 0.697 | TOTAL SPENT TIME: 0.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  2  1  3  5  7 10  8  4  6  9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $warn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "(1) INITIAL SPEARMAN CORRELATION BETWEEN data1 AND data2 HAS BEEN DETECTED AS NEGATIVE: -1. THE LOOP STEPS WILL BE PERFORMED USING POSITIVE CORRELATIONS BUT THE FINAL CORRELATION WILL BE NEGATIVE"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.6969697</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">permut</span><span class="op">(</span>data1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>, n <span class="op">=</span> <span class="fl">5</span>, data2 <span class="op">=</span> <span class="cn">NULL</span>, seed <span class="op">=</span> <span class="fl">1</span>, print.count <span class="op">=</span> <span class="fl">1e4</span>, cor.limit <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0 0 0 0 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $warn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "(1) NO PERMUTATION PERFORMED BECAUSE data1 ARGUMENT SEEMS TO BE MADE OF IDENTICAL ELEMENTS: 0"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $cor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Haiding Wang, <a href="https://github.com/yushiHn" class="external-link">Yushi Han</a>, Gael Millot.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

